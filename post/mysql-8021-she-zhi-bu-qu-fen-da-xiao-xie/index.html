<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>MySQL 8.0.21 è®¾ç½®ä¸åŒºåˆ†å¤§å°å†™ | å±±æµ·æŸ¯</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://gsdukbh.github.io/favicon.ico?v=1605530321737">
<link rel="stylesheet" href="https://gsdukbh.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161472463-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161472463-2');
</script>


    <meta name="description" content="ğŸ¤‘é‡å‘äº†ï¼Œç¢°åˆ°ä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦è®¾ç½®æ•°æ®åº“è¡¨åä¸åŒºåˆ†å¤§å°å†™ã€‚ä½†æ˜¯MySQLåœ¨LinuxæœåŠ¡å™¨æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚è®°å½•ä¸‹è§£å†³è¿‡ç¨‹ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚

æ–¹æ³•ä¸€
MySQL åœ¨Windowsä¸Šï¼Œé»˜è®¤å€¼ä¸º1ã€‚åœ¨macOSä¸Šï¼Œé»˜è®¤å€¼ä¸º2ã€‚åœ¨Linuxä¸Šï¼Œä¸æ”¯..." />
    <meta name="keywords" content="MySQL" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://gsdukbh.github.io">
        <img src="https://gsdukbh.github.io/images/avatar.png?v=1605530321737" class="site-logo">
        <h1 class="site-title">å±±æµ·æŸ¯</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/gsdukbh" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      æ°¸è¿œåœ¨è·¯ä¸ŠğŸ¢
    </div>
    <div class="site-footer">
       | <a class="rss" href="https://gsdukbh.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">MySQL 8.0.21 è®¾ç½®ä¸åŒºåˆ†å¤§å°å†™</h2>
            <div class="post-date">2020-09-07</div>
            
            <div class="post-content" v-pre>
              <p>ğŸ¤‘é‡å‘äº†ï¼Œç¢°åˆ°ä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦è®¾ç½®æ•°æ®åº“è¡¨åä¸åŒºåˆ†å¤§å°å†™ã€‚ä½†æ˜¯<code>MySQL</code>åœ¨<code>Linux</code>æœåŠ¡å™¨æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚è®°å½•ä¸‹è§£å†³è¿‡ç¨‹ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚</p>
<!-- more -->
<h3 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h3>
<p><code>MySQL</code> åœ¨<code>Windows</code>ä¸Šï¼Œé»˜è®¤å€¼ä¸º1ã€‚åœ¨<code>macOS</code>ä¸Šï¼Œé»˜è®¤å€¼ä¸º2ã€‚åœ¨<code>Linux</code>ä¸Šï¼Œä¸æ”¯æŒå€¼2ï¼›åœ¨<code>Linux</code>ä¸Šï¼Œé»˜è®¤å€¼ä¸º2ã€‚æœåŠ¡å™¨å°†å€¼å¼ºåˆ¶æ”¹ä¸º0ã€‚<br>
åœ¨<code>MySQL</code> æ–‡æ¡£ä¸­æœ‰æåˆ°:<a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_lower_case_table_names">lower_case_table_names</a>è®¾ç½®é—®é¢˜ã€‚</p>
<blockquote>
<p>It is therefore necessary to configure lower_case_table_names to the desired setting before initializing the server. In most cases, this requires configuring lower_case_table_names in a MySQL option file before starting the MySQL server for the first time. For APT installations on Debian and Ubuntu, however, the server is initialized for you, and there is no opportunity to configure the setting in an option file beforehand. You must therefore use the debconf-set-selection utility prior to installing MySQL using APT to enable lower_case_table_names. To do so, run this command before installing MySQL using APT:</p>
</blockquote>
<p>éœ€è¦åœ¨MySQLåˆå§‹åŒ–ä¹‹å‰è¿›è¡Œè®¾ç½® ï¼Œå®˜æ–¹ç»™å‡ºçš„å‘½ä»¤ï¼š</p>
<pre><code class="language-shell">sudo debconf-set-selections &lt;&lt;&lt; &quot;mysql-server mysql-server/lowercase-table-names select Enabled&quot;
</code></pre>
<p>å¾ˆé—æ†¾çš„æ˜¯è¿™ä¸ªæ–¹æ³•æˆ‘æ²¡æœ‰æˆåŠŸã€‚</p>
<h3 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h3>
<p>åœ¨<code>MySQL</code>å®‰è£…åï¼Œè®¾ç½®<code>lower_case_table_names</code> é‡æ–°åˆå§‹åŒ–<code>MySQL</code>ã€‚è¿™æ ·åšä¼šä¸¢å¤±æ•°æ®ã€‚</p>
<ol>
<li>å®‰è£…<code>MySQL</code></li>
</ol>
<pre><code class="language-bash">sudo apt-get update 
sudo apt-get install mysql-server -y
</code></pre>
<ol start="2">
<li>åœæ­¢MySQLæœåŠ¡ï¼š</li>
</ol>
<pre><code class="language-bash">sudo service mysql stop
</code></pre>
<ol start="3">
<li>åˆ é™¤MySQLæ•°æ®ç›®å½•ï¼š</li>
</ol>
<pre><code class="language-bash">sudo rm -rf /var/lib/mysql
</code></pre>
<ol start="4">
<li>é‡æ–°åˆ›å»ºMySQLæ•°æ®ç›®å½•ï¼š</li>
</ol>
<pre><code class="language-bash">sudo mkdir /var/lib/mysql    
sudo chown mysql:mysql /var/lib/mysql
sudo chmod 700 /var/lib/mysql
</code></pre>
<ol start="5">
<li>
<p>æ·»åŠ <code>lower_case_table_names = 1</code>åˆ°ä¸­çš„<code>[mysqld]</code>éƒ¨åˆ†<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>ã€‚</p>
</li>
<li>
<p>ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°åˆå§‹åŒ–<code>MySQL --lower_case_table_names=1</code>ï¼š</p>
</li>
</ol>
<pre><code class="language-bash">sudo mysqld --defaults-file /etc/mysql/my.cnf --initialize --lower_case_table_names=1 --user=mysql --console
</code></pre>
<ol start="7">
<li>å¯åŠ¨MySQLæœåŠ¡ï¼š</li>
</ol>
<pre><code class="language-bash">sudo service mysql start
</code></pre>
<ol start="8">
<li>æ£€æŸ¥ç»“æœã€‚</li>
</ol>
<pre><code class="language-bash">mysql
SHOW VARIABLES LIKE 'lower_case_%';
</code></pre>
<h5 id="é¢„æœŸ">é¢„æœŸï¼š</h5>
<pre><code class="language-txt">+------------------------+-------+
| Variable_name          | Value |
+------------------------+-------+
| lower_case_file_system | OFF   |
| lower_case_table_names | 1     |
+------------------------+-------+
</code></pre>
<h5 id="å®é™…ä¸Š">å®é™…ä¸Šï¼š</h5>
<pre><code class="language-txt">+------------------------+-------+
| Variable_name          | Value |
+------------------------+-------+
| lower_case_file_system | OFF   |
| lower_case_table_names | 0     |
+------------------------+-------+
</code></pre>
<p>æ˜¾ç„¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸ä½¿ç”¨æˆ‘çš„æœåŠ¡å™¨ã€‚ æˆ‘ğŸ™„èŠ±è¿™ä¹ˆä¹…çš„æ—¶é—´æ¥è®¾ç½®è¿™ä¸ªä¸œè¥¿åˆ°åº•æœ‰ä½•ç”¨ï¼Ÿ</p>
<p>æˆ‘çš„æœåŠ¡å™¨æœåŠ¡å™¨é…ç½®ï¼š</p>
<pre><code class="language-txt">Ubuntu 20.04.1 LTS arm64 
</code></pre>
<h1 id="æ›´æ–°">æ›´æ–°</h1>
<h4 id="æ–¹æ³•ä¸‰">æ–¹æ³•ä¸‰</h4>
<p>ä¹‹å‰çš„é…ç½®æ–¹æ³•å’Œ æ–¹æ³•äºŒ ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯é‡æ–°åˆå§‹åŒ–æ•°æ®éƒ¨åˆ†ï¼Œæ ¹æ®<a href="https://dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html">æ–‡æ¡£è¯´æ˜</a> å¯ä»¥ä½¿ç”¨ <code>Igor Mikushkin</code> å†™çš„è„šæœ¬ ï¼š <a href="https://github.com/igrmk/ubuntu-reinit-mysql">MySQL-reinit</a></p>
<h1 id="ä½¿ç”¨docker-é•œåƒéƒ¨ç½²">ä½¿ç”¨Docker é•œåƒéƒ¨ç½²</h1>
<p>å½“åœ¨ä½¿ç”¨docker è®¾ç½®MySQLæ—¶ä¼šå¾ˆæ–¹ä¾¿ï¼Œ</p>
<pre><code class="language-shell"> 
å‚è€ƒå‘½ä»¤è¡Œï¼šdocker run --name mysql8 -p 3306:3306 -p 33006:33006 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:8.0.21 --lower_case_table_names=1

</code></pre>
<h1 id="å‚é˜…">å‚é˜…</h1>
<ol>
<li>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_lower_case_table_names">lower_case_table_names</a></p>
</li>
<li>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html">Identifier Case Sensitivity</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/51803216/lower-case-table-names-settings-in-mysql-8-0-12">lower_case_table_names Settings in MySQL 8.0.12</a></p>
</li>
</ol>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://gsdukbh.github.io/tag/yZamnDlzV/" class="tag">
                    MySQL
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://gsdukbh.github.io/post/tiao-shui-ban-diving-board/">
                  <h3 class="post-title">
                    è·³æ°´ç‰ˆ-Diving Board
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>




  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '7860c83253ad9987e975',
        clientSecret: 'e7723232d3761c9f4c9905c28382c8f651ba598f',
        repo: 'gsdukbh.github.io',
        owner: 'gsdukbh',
        admin: ['gsdukbh'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
